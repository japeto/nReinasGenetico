<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class NQueensEA - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#class-NQueensEA-label-Overview">Overview</a>
    <li><a href="#class-NQueensEA-label-Details">Details</a>
    <li><a href="#class-NQueensEA-label-Genetic+Algorithm">Genetic Algorithm</a>
    <li><a href="#class-NQueensEA-label-Description">Description</a>
  </ul>
</div>


  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-create_matingpool">#create_matingpool</a>
    
    <li ><a href="#method-i-evaluate_diversity">#evaluate_diversity</a>
    
    <li ><a href="#method-i-generate_population">#generate_population</a>
    
    <li ><a href="#method-i-putto_population">#putto_population</a>
    
    <li ><a href="#method-i-reproduce_matingpool">#reproduce_matingpool</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-NQueensEA">
  <h1 id="class-NQueensEA" class="class">
    class NQueensEA
  </h1>

  <section class="description">
    
<pre class="ruby"><span class="ruby-constant">NQueensEA</span>
</pre>

<h1 id="class-NQueensEA-label-Overview">Overview<span><a href="#class-NQueensEA-label-Overview">&para;</a> <a href="#top">&uarr;</a></span></h1>

<pre>This class represents the n queens puzzle is the problem of placing n chess
queens on an n√ón chessboard  so that no two queens threaten each other.</pre>

<h1 id="class-NQueensEA-label-Details">Details<span><a href="#class-NQueensEA-label-Details">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="class-NQueensEA-label-Genetic+Algorithm">Genetic Algorithm<span><a href="#class-NQueensEA-label-Genetic+Algorithm">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre>1) Generate initial population
2) Each individual in the population have evaluate the fitness
-&gt; 3) Select random (tournament) individuals to reproduce (matting)
-&gt; 4) Create new generation through mutation and evaluate the individual fitnesses
-&gt; 5) Repeat 3) until number of generations (terminating condition)
6) Return best chromosome, position 0 in the population</pre>

<h2 id="class-NQueensEA-label-Description">Description<span><a href="#class-NQueensEA-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre>In each iteration (generation) of algorithm, a certain number of best-ranking
individuals (Chromosomes) is selected in the manner to create new better
individuals (son).

The son are created by some type of recombination (mutation) and
they replace the  worst-ranked part of the population.

This Candidate solutions (Chromosome) play the role of individuals in a population,
and the fitness function determines the quality of the solutions, Thus, a solution
requires that no two queens share the same row, column, or diagonal.

For a correct solution, the fitness function will return zero.

Authors::GnomeTeam (jeffersonamado,humbertropolis,ch.morales90) @gmail.com</pre>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(num_queens = 8, num_chromosomes = 2000, maxnum_generations = 1000, type_selection=0 ,debug = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method make a new Puzzle whit a number of queens and allow find the
solution</p>
<dl class="rdoc-list note-list"><dt>num_queens
<dd>
<p>(integer) Number de queens in chessboard <strong>(n)</strong></p>
</dd><dt>num_chromosome
<dd>
<p>(integer) Number of different ways the <strong>(n)</strong> queens can be
placed on an <strong>(n) x (n)</strong> chessboard or number of chromosomes
in the population</p>
</dd><dt>maxnum_generations
<dd>
<p>(integer) Number of generations where select individual, mutate and put to
population</p>
</dd><dt>debug
<dd>
<p>(boolean) Show debug messages in standard output</p>
</dd></dl>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File n-queens.rb, line 359</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">num_queens</span> = <span class="ruby-value">8</span>, <span class="ruby-identifier">num_chromosomes</span>  = <span class="ruby-value">2000</span>, <span class="ruby-identifier">maxnum_generations</span> = <span class="ruby-value">1000</span>, <span class="ruby-identifier">type_selection</span>=<span class="ruby-value">0</span> ,<span class="ruby-identifier">debug</span> = <span class="ruby-keyword">false</span>)
    <span class="ruby-comment">#Numero de individuos o cromosomas, esta es como el numero de filas</span>
    <span class="ruby-ivar">@maxnum_chromosome</span>  = <span class="ruby-identifier">num_chromosomes</span>
    <span class="ruby-comment">#generaciones que se van a generar</span>
    <span class="ruby-ivar">@maxnum_generations</span> = <span class="ruby-identifier">maxnum_generations</span>
    <span class="ruby-comment">#numero de reinas</span>
    <span class="ruby-ivar">@num_queens</span> = <span class="ruby-identifier">num_queens</span>
    <span class="ruby-comment">#cantidad de cromosomas en el matting</span>
    <span class="ruby-ivar">@mating_pool</span> = <span class="ruby-value">2</span>
    <span class="ruby-comment">#tipo de reproducion</span>
    <span class="ruby-ivar">@only_mutation</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-comment">#habilita los mensajes de depuracion</span>
    <span class="ruby-ivar">@type_selection</span> = <span class="ruby-identifier">type_selection</span>
    <span class="ruby-ivar">@debug</span> = <span class="ruby-identifier">debug</span>
    <span class="ruby-comment">#mensaje debug</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">debug</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Run NQueensEA with #{@num_queens} queens, #{@maxnum_chromosome}
        individual.\n#{@maxnum_generations} generations and matting of #{@mating_pool} individuals&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-comment">#array para el matting pool</span>
    <span class="ruby-ivar">@mating_array</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-comment">#numero de cromosomas nuevos</span>
    <span class="ruby-ivar">@numold_chromosome</span>  = <span class="ruby-ivar">@maxnum_chromosome</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@mating_pool</span>
    <span class="ruby-comment">#generacion actual</span>
    <span class="ruby-ivar">@generation</span> = <span class="ruby-value">1</span>
    <span class="ruby-comment">#creo el array para la poblacion</span>
    <span class="ruby-ivar">@population</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-comment">#genero la poblacion base</span>
    <span class="ruby-identifier">generate_population</span>()
    <span class="ruby-comment">#~ ##puts &quot;Esta es la poblacion: \n#{@population}&quot;</span>
    (<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-ivar">@maxnum_generations</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
            <span class="ruby-ivar">@generation</span>=<span class="ruby-identifier">i</span>
            <span class="ruby-comment">#Se genera una nueva poblacion a partir de la anterior</span>
            <span class="ruby-identifier">create_matingpool</span>()
            <span class="ruby-identifier">reproduce_matingpool</span>()
            <span class="ruby-identifier">putto_population</span>()
            <span class="ruby-identifier">evaluate_diversity</span>()
            <span class="ruby-comment">#para si ha encontrado la solucion</span>
            <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@population</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_fitness</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@type_selection</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@population</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_diversity</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@type_selection</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@population</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_mixfitness</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@type_selection</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
            <span class="ruby-comment">#mensaje debug</span>
            <span class="ruby-keyword">if</span> <span class="ruby-ivar">@debug</span>
                <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;&gt; Generation: #{@generation}  with best solution: #{@population[0].to_s}&quot;</span>
            <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-comment">#mensaje</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@debug</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;last population:&quot;</span>
        <span class="ruby-ivar">@maxnum_chromosome</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{i} : #{@population[i].to_s}&quot;</span>
        <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-comment">#print solution</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;&gt; Solution: #{@population[0].to_s} in Generation: #{@generation}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-create_matingpool" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_matingpool</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method select chromosomes (called parents) for mating in order to
generate new chromosomes (called offspring).</p>

<p>The methods is tournament selection this selection way is more commonly
used approach, a set of chromosomes (known as tournament size) are randomly
chosen the fittest chromosome from the set is then placed in mating pool.</p>
          
          

          
          <div class="method-source-code" id="create_matingpool-source">
            <pre><span class="ruby-comment"># File n-queens.rb, line 441</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_matingpool</span>()
    <span class="ruby-comment">#seleccion por torneo cualquier</span>
    (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-ivar">@mating_pool</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-comment">#Genero una posicion aleatoria</span>
        <span class="ruby-identifier">pos</span> =<span class="ruby-identifier">rand</span>(<span class="ruby-ivar">@maxnum_chromosome</span>)
        <span class="ruby-comment">#obtengo el cromosoma de la poblacion</span>
        <span class="ruby-identifier">chromosome</span> = <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">pos</span>]
        <span class="ruby-comment">#Genero una posicion aleatoria</span>
        <span class="ruby-identifier">pos</span> =<span class="ruby-identifier">rand</span>(<span class="ruby-ivar">@maxnum_chromosome</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-ivar">@type_selection</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
            <span class="ruby-comment">#Si la aptitud que tengo es mayor pues el</span>
            <span class="ruby-comment">#me quedo con el cromosoma de menor aptitud</span>
            <span class="ruby-keyword">if</span> <span class="ruby-identifier">chromosome</span>.<span class="ruby-identifier">get_fitness</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">pos</span>].<span class="ruby-identifier">get_fitness</span>
                <span class="ruby-identifier">chromosome</span> =<span class="ruby-ivar">@population</span>[<span class="ruby-identifier">pos</span>]
            <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@type_selection</span> <span class="ruby-operator">==</span><span class="ruby-value">1</span>
            <span class="ruby-comment">#Si la diversidad que tengo es mayor pues el</span>
            <span class="ruby-comment">#me quedo con el cromosoma de menor diversidad</span>
            <span class="ruby-keyword">if</span> <span class="ruby-identifier">chromosome</span>.<span class="ruby-identifier">get_diversity</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">pos</span>].<span class="ruby-identifier">get_diversity</span>
                <span class="ruby-identifier">chromosome</span> =<span class="ruby-ivar">@population</span>[<span class="ruby-identifier">pos</span>]
            <span class="ruby-keyword">end</span>            
        <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@type_selection</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
            <span class="ruby-comment">#Si la aptitud mixta que tengo es mayor pues el</span>
            <span class="ruby-comment">#me quedo con el cromosoma de menor  aptitud mixta            </span>
            <span class="ruby-keyword">if</span> <span class="ruby-identifier">chromosome</span>.<span class="ruby-identifier">get_mixfitness</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">pos</span>].<span class="ruby-identifier">get_mixfitness</span>
                <span class="ruby-identifier">chromosome</span> =<span class="ruby-ivar">@population</span>[<span class="ruby-identifier">pos</span>]
            <span class="ruby-keyword">end</span>            
        <span class="ruby-keyword">end</span>
        <span class="ruby-comment">#Lo agrego al matting pool</span>
        <span class="ruby-ivar">@mating_array</span>[<span class="ruby-identifier">i</span>]= <span class="ruby-identifier">chromosome</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@debug</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Matting :\n #{@mating_array}&quot;</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-evaluate_diversity" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">evaluate_diversity</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method update diversity and mixfitness to population</p>
          
          

          
          <div class="method-source-code" id="evaluate_diversity-source">
            <pre><span class="ruby-comment"># File n-queens.rb, line 520</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">evaluate_diversity</span>()
    <span class="ruby-comment">#Actualiza el valor de la diversidad de todos los cromosomas</span>
    <span class="ruby-ivar">@maxnum_chromosome</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-comment">#Cuantos elemento en la poblacion tienen el fitness del cromosoma i</span>
        <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">set_diversity</span>  = <span class="ruby-ivar">@population</span>.<span class="ruby-identifier">count</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">get_fitness</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">get_fitness</span>}
        <span class="ruby-comment">#El valor minimo entre el fitness y la diversity este dividido por la generacion</span>
        <span class="ruby-comment">#este es una especie de costo beneficion, por que la mejora que me produce o bien</span>
        <span class="ruby-comment">#sea la aptitud o la diversidad (minimo entre estos), dividido el costo que he generado</span>
        <span class="ruby-comment">#para llegar a este valor (generacion)</span>
        <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">set_mixfitness</span> = [<span class="ruby-ivar">@population</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">get_fitness</span>, <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">get_diversity</span>].<span class="ruby-identifier">min</span> <span class="ruby-operator">/</span> <span class="ruby-ivar">@generation</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-generate_population" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">generate_population</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method generate start population of <strong>n</strong> chromosomes. It
is implements the first step in the algorithm functioning, then, this
population contains several representation that encodes a possible solution
to a problem.</p>

<p>Where each <a href="Chromosome.html">Chromosome</a> x in the population has
evaluate your fitnesss</p>
          
          

          
          <div class="method-source-code" id="generate_population-source">
            <pre><span class="ruby-comment"># File n-queens.rb, line 421</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">generate_population</span>()
    <span class="ruby-ivar">@maxnum_chromosome</span>.<span class="ruby-identifier">times</span>{
        <span class="ruby-ivar">@population</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Chromosome</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@num_queens</span>).<span class="ruby-identifier">generate_positions</span>
    }
    <span class="ruby-identifier">evaluate_diversity</span>()
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@debug</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;start population:&quot;</span>
        <span class="ruby-ivar">@maxnum_chromosome</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{i} : #{@population[i].to_s}&quot;</span>
        <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-putto_population" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">putto_population</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method replace the worst-ranked part of the population, first order
the population according to fitness value</p>
          
          

          
          <div class="method-source-code" id="putto_population-source">
            <pre><span class="ruby-comment"># File n-queens.rb, line 505</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">putto_population</span>()
    <span class="ruby-comment">#numero de cromosomas que se deben obtener nuevos</span>
    <span class="ruby-comment">#ordeno para obtener los mejores</span>
    <span class="ruby-ivar">@population</span>.<span class="ruby-identifier">sort!</span> {
        <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">|</span>  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">get_fitness</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">y</span>.<span class="ruby-identifier">get_fitness</span>
    }
    <span class="ruby-comment">#dejo los viejos y luego reemplazo los del matting pool en estas</span>
    <span class="ruby-comment">#posiciones</span>
    (<span class="ruby-ivar">@numold_chromosome</span><span class="ruby-operator">..</span><span class="ruby-ivar">@maxnum_chromosome</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-ivar">@population</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-ivar">@mating_array</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-ivar">@numold_chromosome</span>]
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-reproduce_matingpool" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reproduce_matingpool</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This method generate new chromosomes with mutate or crossover function and
update matting pool</p>
          
          

          
          <div class="method-source-code" id="reproduce_matingpool-source">
            <pre><span class="ruby-comment"># File n-queens.rb, line 481</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reproduce_matingpool</span>()
    (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-ivar">@mating_pool</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-comment">#tipo de reproduccion</span>
        <span class="ruby-comment">#~ if @only_mutation</span>
            <span class="ruby-ivar">@mating_array</span>[<span class="ruby-identifier">i</span>]= <span class="ruby-ivar">@mating_array</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">mutate</span>
        <span class="ruby-comment">#~ else</span>
            <span class="ruby-comment">#~ @mating_array[i]= @mating_array[i].crosover</span>
            <span class="ruby-comment">#Mutation is performed after crossover by</span>
            <span class="ruby-comment">#randomly choosing a chromosome in the new</span>
            <span class="ruby-comment">#generation to mutate in order to explore new</span>
            <span class="ruby-comment">#areas in the search space and to add diversity to</span>
            <span class="ruby-comment">#the population of chromosomes to prevent</span>
            <span class="ruby-comment">#being trapped in a local optimum</span>
            <span class="ruby-comment">#~ @mating_array[i]= @mating_array[i].mutate</span>
        <span class="ruby-comment">#~ end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@debug</span>
        <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Offspring :\n #{@mating_array}&quot;</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

